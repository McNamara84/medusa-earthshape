<% if @stones.present? %>
  <% stone_ids = @stones.pluck(:id) %>
  <div class="text-right">
    <%= link_to download_bundle_label_stones_path(ids: stone_ids) do %>
      <i class="glyphicon glyphicon-tag"></i>
    <% end %>
    ,<%= link_to(image_tag("icon_pdf_1.png", size: "24x24"), download_bundle_card_stones_path(ids: stone_ids)) %>,
    and <%= link_to("A4", download_bundle_card_stones_path(ids: stone_ids, a4: true)) %>
  </div>
<% end %>

<%= form_for Stone.new, url: bundle_update_stones_path do |f| %>
<table class="table table-condensed table-striped">
  <thead>
    <tr>
      <th></th>
      <th>name</th>
      <th>parent</th>
      <th>box</th>
      <th>physical form</th>
      <th>classification</th>
      <th>tags</th>
      <th>owner</th>
      <th>group</th>
      <th>published</th>
      <th>updated_at</th>
      <th>created_at</th>
    </tr>
  </thead>
  <tbody>
    <%= render partial: :stone, collection: @stones, locals: { checked: true } %>
  </tbody>
  <tfoot>
    <tr>
      <th><%= check_box_tag nil, nil, true, class: "select-row-all" %></th>
      <th></th>
      <th><%= f.select :parent_id, Stone.pluck(:name, :id), include_blank: true %></th>
      <th><%= f.select :box_id, Box.pluck(:name, :id), include_blank: true %></th>
      <th><%= f.select :physical_form_id, PhysicalForm.pluck(:name, :id), include_blank: true %></th>
      <th><%= f.select :classification_id, Classification.pluck(:name, :id), include_blank: true %></th>
      <th><%= f.text_field :tag_list %></th>
      <th><%= f.select :user_id ,User.pluck(:username, :id), include_blank: true %></th>
      <th><%= f.select :group_id ,Group.pluck(:name, :id), include_blank: true %></th>
      <th>
        <%= f.button class: "btn btn-default" do %>
          <span class="glyphicon glyphicon-save"></span>
        <% end %>
      </th>
      <th></th>
      <th></th>
    </tr>
  </tfoot>
</table>
<% end %>
